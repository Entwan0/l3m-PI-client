{"version":3,"sources":["webpack:///src/app/arret/arret.service.ts","webpack:///src/environments/environment.ts","webpack:///src/app/app.component.ts","webpack:///src/app/app.component.html","webpack:///src/app/chamis/chamis.service.ts","webpack:///src/app/app.module.ts","webpack:///src/app/defis/defis.service.ts","webpack:///src/app/visite/visite.service.ts","webpack:///src/app/lignes/lignes.service.ts","webpack:///src/app/app-routing.module.ts","webpack:///src/main.ts","webpack:///$_lazy_route_resource lazy namespace object"],"names":["ArretService","http","_url","get","nomArret","Arret","code","latitude","longitude","nomVille","streetView","nNomArret","nCode","nlatitude","nlongitude","nNomVille","nStreetView","newArret","console","log","put","post","environment","production","firebase","apiKey","authDomain","projectId","storageBucket","messagingSenderId","appId","measurementId","AppComponent","auth","visiteService","arretService","chamisService","defisservice","router","lignesService","iconMarker","tileLayerUrl","dataIconGoogle","currentitem","tousLeschamis$","RecupereTousLesChamis","defis$","fetchDefis","arret$","RecupereTousLesArrets","lignes$","fetchLignes","arretTag$","fetchArret","visite$","fetchVisites","isDefisSelectionne","isChamisSelectionne","isAfficheListeDefis","isAfficheListeChamis","isSincrireChamis","isAfficheEditDefis","isAfficheEditChamis","isAfficheEditArret","isAfficheEditArrets","isVisiteCommence","popupEditDefis","popupEditChamis","popupEditArrets","popupEditVisite","isAfficheListeVisite","isAfficheEditVisite","isIndice","email","reponseTrouve","point","coutIndice","idVisite","leDefis","initializeNouveauDefis","leChamis","initializeNouveauChamis","initializeNouveauArrets","laVisite","initializeNouvelleVisite","provider","GoogleAuthProvider","setCustomParameters","prompt","signInWithPopup","signOut","id","titre","date","description","loginAuteur","etape","indice","question","reponse","postDefis","subscribe","response","error","nomA","nomV","stView","AjouteArret","login","nom","prenom","post$","postChamis","dateDeCreation","etapes","properties","LIBELLE","CODE","geometry","coordinates","idDefis","nomVisiteur","dateVisite","mode","score","temps","status","isModeEdition","result","updateDefis","updateChamis","updateArret","ligne","COULEUR","IdVisite","IdDefi","NomVisiteur","DateVisite","Mode","Score","Temps","Status","updateVisite","nIdVisite","nIdDefi","nNomVisiteur","nDateVisite","nMode","nScore","nTemps","nStatus","postVisite","undefis$","recuperUnDefis","afficheLedefis","lat","lng","insertPartieDansVisite","msgVictoire","randomNombre","Math","random","toString","substring","randomLettre","floor","logout","afficheListeDefis","afficheListeChamis","afficheLesVisites","afficheInscriptionChamis","AfficheEditDefis","AfficheEditChamis","AfficheEditArrets","AfficheEditVisite","CommencerVisite","ChamisService","path","loginGoogle","nomChoisi","prenomChoisi","newChamisLogin","nLogin","nNom","nPrenom","newChamis","AppModule","initializeApp","DefisService","Date","nId","nTitre","nDate","nDescription","nLoginAuteur","nLatitude","nLongitude","nEtapes","nIndice","nQuestion","nReponse","newDefis","VisitesService","newVisites","LignesService","_urlA","pipe","obs","features","routes","AppRoutingModule","forRoot","bootstrapModule","err","webpackEmptyAsyncContext","req","Promise","resolve","then","e","Error","keys","module","exports"],"mappings":"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","file":"main-es5.js","sourcesContent":["import { Observable } from 'rxjs';\r\nimport { HttpClient } from '@angular/common/http';\r\nimport { ChangeDetectionStrategy, Component, Injectable } from '@angular/core';\r\n\r\nexport interface arret {\r\n    nomArret: string,\r\n    code: string,\r\n    latitude: string,\r\n    longitude: string,\r\n    nomVille: string,\r\n    streetView: string\r\n} \r\n\r\n@Injectable()\r\nexport class ArretService {\r\n    private _url: string = \"https://projet-integrateur.herokuapp.com/api/arrets/\";\r\n    //private _url: string = \"http://localhost:5000/api/arrets/\"\r\n    \r\n    constructor(private http:HttpClient ){\r\n    }\r\n\r\n    RecupereTousLesArrets(): Observable<arret>{\r\n        return this.http.get<arret>(this._url);\r\n    }\r\n    \r\n    RecuperUnArret(nomArret:string): Observable<arret>{\r\n        return this.http.get<arret>(this._url+nomArret);\r\n    }\r\n\r\n    initializeNouveauArrets(): arret{\r\n        let Arret : arret = {\r\n            nomArret: \"\",\r\n            code: \"\",\r\n            latitude: \"\",\r\n            longitude : \"\",\r\n            nomVille : \"\",\r\n            streetView: \"\"\r\n        }\r\n        return Arret;\r\n    }\r\n\r\n    updateArret(nNomArret: string, nCode: string, nlatitude: string,nlongitude:string, nNomVille : string, nStreetView: string): Observable<arret> {\r\n        let newArret : arret = {\r\n            nomArret : nNomArret,\r\n            code : nCode,\r\n            latitude : nlatitude,\r\n            longitude : nlongitude,\r\n            nomVille : nNomVille,\r\n            streetView: nStreetView\r\n        };\r\n        console.log(\"nomArret /\" + newArret.nomArret + \"/ code /\" + newArret.code + \"/ latitude /\" + newArret.latitude + \"/ longitude /\" + newArret.longitude+ \"/ nomVille /\" + newArret.nomVille + \"/ nstreetView /\" + newArret.streetView);\r\n       \r\n        return this.http.put<arret>(this._url+ newArret.nomArret,newArret);\r\n      }\r\n      AjouteArret(nNomArret: string, nCode: string, nlatitude: string,nlongitude:string, nNomVille : string, nStreetView: string): Observable<arret> {\r\n        const newArret : arret = {\r\n            nomArret : nNomArret,\r\n            code : nCode,\r\n            latitude : nlatitude,\r\n            longitude : nlongitude,\r\n            nomVille : nNomVille,\r\n            streetView : nStreetView\r\n        };\r\n        console.log(\"nomArret /\" + newArret.nomArret + \"/ code /\" + newArret.code + \"/ latitude /\" + newArret.latitude + \"/ longitude /\" + newArret.longitude+ \"/ nomVille /\" + newArret.nomVille + \"/ nstreetView /\" + newArret.streetView ) ;\r\n        return this.http.post<arret>(this._url + nNomArret,newArret);\r\n      }\r\n\r\n\r\n\r\n}\r\n\r\n","// This file can be replaced during build by using the `fileReplacements` array.\r\n// `ng build --prod` replaces `environment.ts` with `environment.prod.ts`.\r\n// The list of file replacements can be found in `angular.json`.\r\n\r\nexport const environment = {\r\n  production: false,\r\n};\r\n \r\nexport let firebase = {\r\n  apiKey: \"AIzaSyATFDhKF72ukPkYfecw3caTpu8LtLL2hds\",\r\n  authDomain: \"projet-integrateur-73792.firebaseapp.com\",\r\n  projectId: \"projet-integrateur-73792\",\r\n  storageBucket: \"projet-integrateur-73792.appspot.com\",\r\n  messagingSenderId: \"922167722341\",\r\n  appId: \"1:922167722341:web:ec9c9526cd3be7020aa18c\",\r\n  measurementId: \"G-3WWZHBTDWT\"\r\n}\r\n\r\n/*\r\n * For easier debugging in development mode, you can import the following file\r\n * to ignore zone related error stack frames such as `zone.run`, `zoneDelegate.invokeTask`.\r\n *\r\n * This import should be commented out in production mode because it will have a negative impact\r\n * on performance if an error is thrown.\r\n */\r\n// import 'zone.js/dist/zone-error';  // Included with Angular CLI.\r\n","import { Chamis, ChamisService } from './chamis/chamis.service';\r\nimport { ChangeDetectionStrategy, Component, EventEmitter, Output} from '@angular/core';\r\nimport { AngularFireAuth } from '@angular/fire/auth';\r\nimport firebase from 'firebase/app';\r\nimport { OSM_TILE_LAYER_URL } from '@yaga/leaflet-ng2';\r\nimport { defis, DefisService } from './defis/defis.service';\r\nimport { Router } from '@angular/router';\r\nimport { LignesService, FeatureLigne} from './lignes/lignes.service'\r\nimport { arret, ArretService } from './arret/arret.service';\r\nimport { visites, VisitesService } from './visite/visite.service';\r\n\r\n@Component({\r\n  selector: 'app-root',\r\n  templateUrl: './app.component.html',\r\n  styleUrls: ['./app.component.scss'],\r\n  changeDetection: ChangeDetectionStrategy.OnPush \r\n})\r\n\r\nexport class AppComponent {\r\n  iconMarker = 'https://upload.wikimedia.org/wikipedia/commons/thumb/8/88/Map_marker.svg/585px-Map_marker.svg.png';\r\n  tileLayerUrl = OSM_TILE_LAYER_URL;\r\n  dataIconGoogle = 'assets/images/iconGoogle.png';\r\n  tousLeschamis$:any;\r\n  defis$:any;\r\n  lignes$:any;\r\n  post$:any;\r\n  arret$:any;\r\n  arretTag$:any;\r\n  undefis$:any;\r\n  visite$:any;\r\n  isDefisSelectionne:boolean;\r\n  leDefis:defis;\r\n  leChamis:Chamis;\r\n  Arret : arret;\r\n  laVisite:visites;\r\n  isAfficheListeDefis:boolean;\r\n  isAfficheListeChamis:boolean;\r\n  isChamisSelectionne: boolean;\r\n  isSincrireChamis:boolean;\r\n  isAfficheEditDefis:boolean;\r\n  isAfficheEditChamis:boolean;\r\n  isAfficheEditArret:boolean;\r\n  isAfficheEditArrets:boolean;\r\n  isAfficheListeVisite:boolean;\r\n  isVisiteCommence:boolean;\r\n  isAfficheEditVisite:boolean;\r\n  isIndice:boolean;\r\n  popupEditDefis:boolean;\r\n  popupEditChamis:boolean;\r\n  popupEditArrets:boolean;\r\n  popupEditVisite:boolean;\r\n  point:number;\r\n  email:string;\r\n  coutIndice:number;\r\n  @Output() currentitem = new EventEmitter<defis>();\r\n  reponseTrouve:number;\r\n  idVisite:string;\r\n\r\n  constructor(public auth: AngularFireAuth,private visiteService : VisitesService,private arretService : ArretService,private chamisService:ChamisService, private defisservice: DefisService,private router: Router, private lignesService:LignesService) {\r\n    this.tousLeschamis$ = this.chamisService.RecupereTousLesChamis();\r\n    this.defis$ = this.defisservice.fetchDefis();\r\n    this.arret$ = this.arretService.RecupereTousLesArrets();\r\n    this.lignes$ = this.lignesService.fetchLignes();\r\n    this.arretTag$= this.lignesService.fetchArret();\r\n    this.visite$ = this.visiteService.fetchVisites();\r\n    this.isDefisSelectionne = false;\r\n    this.isChamisSelectionne = false;\r\n    this.isAfficheListeDefis = false;\r\n    this.isAfficheListeChamis = false;\r\n    this.isSincrireChamis = false;\r\n    this.isAfficheEditDefis = false;\r\n    this.isAfficheEditChamis = false;\r\n    this.isAfficheEditArret = false;\r\n    this.isAfficheEditArrets = false;\r\n    this.isVisiteCommence = false;\r\n    this.popupEditDefis = false;\r\n    this.popupEditChamis = false;\r\n    this.popupEditArrets = false;\r\n    this.popupEditVisite = false;\r\n    this.isAfficheListeVisite = false;\r\n    this.isAfficheEditVisite = false;\r\n    this.isIndice = false;\r\n    this.email = \"visiteur\";\r\n    this.reponseTrouve = 0;\r\n    this.point = 10;\r\n    this.coutIndice = 5;\r\n    this.idVisite = \"\";\r\n    this.leDefis = this.defisservice.initializeNouveauDefis();\r\n    this.leChamis = this.chamisService.initializeNouveauChamis();\r\n    this.Arret = this.arretService.initializeNouveauArrets();\r\n    this.laVisite = this.visiteService.initializeNouvelleVisite();\r\n  }\r\n  \r\n  login(): void {\r\n    const provider = new firebase.auth.GoogleAuthProvider();\r\n    provider.setCustomParameters({\r\n      prompt: 'select_account'\r\n    });\r\n  this.auth.signInWithPopup(provider);\r\n  }\r\n  \r\n  logout(): void {\r\n    this.auth.signOut();\r\n  }\r\n\r\n  creerNouveauDefis(id:string,titre:string,date:any,description:string,loginAuteur:string,latitude:string,longitude:string, etape : string, indice : string, question : string , reponse :string){\r\n    this.defisservice.postDefis(id,titre,date,description,loginAuteur,latitude,longitude,etape,indice,question,reponse).subscribe(\r\n      (response) => {\r\n        console.log(\"post à fonctionné avec la valeur : \" + response);\r\n      },\r\n      (error) => {\r\n        console.error(\"Erreur sur le post : \" + error);\r\n      }\r\n    );\r\n  }\r\n\r\n  creerNouveauArret(nomA :string,code:string,latitude:string,longitude :string,nomV: string, stView : string){\r\n    this.arretService.AjouteArret(nomA,code,latitude,longitude,nomV,stView).subscribe(\r\n      (response) => {\r\n        console.log(\"post à fonctionné avec la valeur : \" + response);\r\n      },\r\n      (error) => {\r\n        console.error(\"Erreur sur le post : \" + error);\r\n      }\r\n    );\r\n  }\r\n\r\n  creerNouveauChamis(login:any,nom:string,prenom:string){\r\n    this.post$ = this.chamisService.postChamis(login,nom,prenom);\r\n  }\r\n\r\n  afficheLeChamis(login:any){\r\n    this.isChamisSelectionne = true;\r\n    this.leChamis.login = login.login;\r\n    this.leChamis.nom = login.nom;\r\n    this.leChamis.prenom= login.prenom;\r\n  }\r\n\r\n  afficheLedefis(id:any){\r\n    this.isDefisSelectionne = true;\r\n    this.idVisite = \"\";\r\n\r\n    //Si on a pris un indice et que l'on selectionne un nouveau defis, remet les points à la valeur initiale\r\n    if(this.isIndice){\r\n      this.point = this.point + this.coutIndice;\r\n      this.isIndice = false;\r\n    }\r\n\r\n    this.leDefis.id = id.id;\r\n    this.leDefis.titre = id.titre;\r\n    this.leDefis.dateDeCreation = id.dateDeCreation;\r\n    this.leDefis.description = id.description;\r\n    this.leDefis.loginAuteur = id.loginAuteur;\r\n    this.leDefis.latitude = id.latitude;\r\n    this.leDefis.longitude = id.longitude;\r\n    this.leDefis.etapes = id.etape;\r\n    this.leDefis.indice = id.indice;\r\n    this.leDefis.question = id.question;\r\n    this.leDefis.reponse = id.reponse;\r\n  }\r\n\r\n  afficheArret(id:any){\r\n    this.Arret.nomArret = id.nomArret;\r\n    this.Arret.code = id.code;\r\n    this.Arret.latitude = id.latitude;\r\n    this.Arret.longitude = id.longitude;\r\n    this.Arret.nomVille = id.nomVille;\r\n    this.Arret.streetView = id.streetView;\r\n  }\r\n\r\n  afficheTagArret(id:any){\r\n    this.Arret.nomArret = id.properties.LIBELLE;\r\n    this.Arret.code = id.properties.CODE;\r\n    this.Arret.latitude = id.geometry.coordinates[0];\r\n    this.Arret.longitude = id.geometry.coordinates[1];\r\n  }\r\n\r\n  afficheLaVisite(id:any){\r\n    this.laVisite.idVisite = id.idVisite;\r\n    this.laVisite.idDefis = id.idDefis;\r\n    this.laVisite.nomVisiteur = id.nomVisiteur;\r\n    this.laVisite.dateVisite = id.dateVisite;\r\n    this.laVisite.mode = id.mode;\r\n    this.laVisite.score = id.score;\r\n    this.laVisite.temps = id.temps;\r\n    this.laVisite.status = id.status;\r\n  }\r\n\r\n  /*\r\n  * Change valeur du boolean, si boolean = vrai alors le rend faux. Si boolean est faux alors le rend vrai.\r\n  */\r\n  afficheListeDefis():void{\r\n    if(!this.isModeEdition()){\r\n      this.isAfficheListeDefis = !this.isAfficheListeDefis;\r\n      this.isSincrireChamis = false;\r\n      this.isAfficheListeVisite = false;\r\n    }\r\n  }\r\n\r\n  afficheListeChamis():void{\r\n    if(!this.isModeEdition()){\r\n      this.isAfficheListeChamis = !this.isAfficheListeChamis\r\n      this.isSincrireChamis = false;\r\n      this.isAfficheListeVisite = false;\r\n    }\r\n  }\r\n\r\n  afficheInscriptionChamis():void{\r\n    if(!this.isModeEdition()){\r\n      this.isSincrireChamis = !this.isSincrireChamis\r\n      this.isAfficheListeDefis = false;\r\n      this.isAfficheListeChamis = false;\r\n      this.isAfficheListeVisite = false;\r\n    }\r\n  }\r\n\r\n  afficheLesVisites():void{\r\n    if(!this.isModeEdition()){\r\n      this.isAfficheListeVisite = !this.isAfficheListeVisite;\r\n      this.isSincrireChamis = false;\r\n      this.isAfficheListeDefis = false;\r\n      this.isAfficheListeChamis = false;\r\n    }\r\n  }\r\n\r\n  isModeEdition(){\r\n    let result:boolean = true;;\r\n    if(!this.isAfficheEditDefis){\r\n      if(!this.isAfficheEditChamis){\r\n        if(!this.isAfficheEditArrets){\r\n          if(!this.isAfficheEditVisite){\r\n            result = false;\r\n          }else{\r\n            this.popupEditVisite = true;\r\n          }\r\n        }else{\r\n          this.popupEditArrets = true;\r\n        }\r\n      }else{\r\n        this.popupEditChamis = true;\r\n      }\r\n    }else{\r\n      this.popupEditDefis = true;\r\n    }\r\n    return result;\r\n  }\r\n\r\n  AfficheEditDefis():void{\r\n    this.isAfficheEditDefis = !this.isAfficheEditDefis;\r\n    this.isAfficheListeDefis = this.isAfficheEditDefis;\r\n    this.isAfficheListeChamis = false;\r\n    this.isSincrireChamis = false;\r\n    this.isAfficheEditChamis = false;\r\n    this.isAfficheListeVisite = false;\r\n    this.isAfficheEditVisite = false;\r\n  }\r\n\r\n  AfficheEditChamis():void{\r\n    this.isAfficheEditChamis = !this.isAfficheEditChamis;\r\n    this.isAfficheListeChamis = this.isAfficheEditChamis;\r\n    this.isAfficheListeDefis = false;\r\n    this.isSincrireChamis = false;\r\n    this.isAfficheEditDefis = false;\r\n    this.isAfficheListeVisite = false;\r\n    this.isAfficheEditVisite = false;\r\n  }\r\n\r\n  AfficheEditArrets():void{\r\n    this.isAfficheEditArrets = !this.isAfficheEditArrets;\r\n    this.isAfficheListeDefis = false;\r\n    this.isAfficheListeChamis = false;\r\n    this.isSincrireChamis = false;\r\n    this.isAfficheEditChamis = false;\r\n    this.isAfficheEditDefis = false;\r\n    this.isAfficheListeVisite = false;\r\n    this.isAfficheEditVisite = false;\r\n  }\r\n\r\n  AfficheEditVisite():void{\r\n    this.isAfficheEditVisite = !this.isAfficheEditVisite;\r\n    this.isAfficheListeVisite =  this.isAfficheEditVisite;\r\n    this.isAfficheListeDefis = false;\r\n    this.isAfficheListeChamis = false;\r\n    this.isSincrireChamis = false;\r\n    this.isAfficheEditChamis = false;\r\n    this.isAfficheEditDefis = false;\r\n    this.isAfficheEditArrets = false;\r\n  }\r\n  \r\n  modifieDefis(id:string,titre:string,date:any,description:string,loginAuteur:string,latitude:string,longitude:string, etape : string, indice : string, question : string , reponse :string):void{\r\n    this.defisservice.updateDefis(id,titre,date,description,loginAuteur,latitude,longitude,etape,indice,question,reponse).subscribe(\r\n      (response) => {\r\n        console.log(\"Put à fonctionné avec la valeur : \" + response);\r\n      },\r\n      (error) => {\r\n        console.error(\"Erreur sur le put : \" + error);\r\n      }\r\n    );\r\n  }\r\n\r\n  modifieChamis(login:string,nom:string,prenom:string):void{\r\n    this.chamisService.updateChamis(login,nom,prenom).subscribe(\r\n      (response) => {\r\n        console.log(\"Put à fonctionné avec la valeur : \" + response);\r\n      },\r\n      (error) => {\r\n        console.error(\"Erreur sur le put : \" + error);\r\n      }\r\n    );\r\n  }\r\n\r\n  modifieArret(nomA :string,code:string,latitude:string,longitude :string,nomV: string, stView : string):void{\r\n    this.arretService.updateArret(nomA,code,latitude,longitude,nomV,stView).subscribe(\r\n      (response) => {\r\n        console.log(\"Put à fonctionné avec la valeur : \" + response);\r\n      },\r\n      (error) => {\r\n        console.error(\"Erreur sur le put : \" + error);\r\n      }\r\n    );\r\n  }\r\n\r\n  rgbToString(ligne: FeatureLigne):string{\r\n    return 'rgb('+ligne.properties.COULEUR+')';\r\n  }\r\n\r\n  updateVisite(IdVisite: string, IdDefi: string, NomVisiteur: string, DateVisite: any, Mode: string, Score: string, Temps: string, Status: string){\r\n    this.visiteService.updateVisite(IdVisite, IdDefi, NomVisiteur, DateVisite, Mode, Score, Temps, Status).subscribe(\r\n        (response) => {\r\n          console.log(\"la sauvgarde à fonctionnée avec la valeur : \" + response);\r\n        },\r\n        (error) => {\r\n          console.error(\"Erreur sur le put : \" + error);\r\n        }\r\n    );\r\n  }\r\n  \r\n  createVisite(nIdVisite: string, nIdDefi: string, nNomVisiteur: string, nDateVisite: any, nMode: string, nScore: string, nTemps: string, nStatus: string){\r\n    this.visiteService.postVisite(nIdVisite, nIdDefi, nNomVisiteur, nDateVisite, nMode, nScore, nTemps, nStatus).subscribe(\r\n    (response) => {\r\n      console.log(\"la création à fonctionnée avec la valeur : \" + response);\r\n    },\r\n    (error) => {\r\n      console.error(\"Erreur sur le put : \" + error);\r\n    }\r\n    );\r\n  }\r\n\r\n   \r\n  getUndefis(id : string):void{\r\n    this.undefis$ = this.defisservice.recuperUnDefis(id);\r\n    this.afficheLedefis(this.undefis$);\r\n  }\r\n   \r\n  getGoogleMapView(lat:string,lng:string):string{\r\n    return \"https://www.google.com/maps/@\" + lat + \",\" + lng + \",21z\";\r\n  }\r\n\r\n  CommencerVisite():void{\r\n    this.isAfficheListeDefis = true;\r\n    this.isVisiteCommence = true;\r\n  }\r\n\r\n  afficheIndice():void{\r\n    if(!this.isIndice)\r\n    this.point = this.point - this.coutIndice;\r\n    this.isIndice = true;\r\n  }\r\n\r\n  valideReponseVisiteur(reponse:string):void{\r\n    if(reponse === this.leDefis.reponse)this.reponseTrouve = 2;\r\n    else this.reponseTrouve = 1;\r\n    this.insertPartieDansVisite(this.reponseTrouve);\r\n  }\r\n\r\n  valideReponseConnecte(reponse:string,login:any):void{\r\n    if(reponse === this.leDefis.reponse)this.reponseTrouve = 2;\r\n    else this.reponseTrouve = 1;\r\n    this.email = login;\r\n    this.insertPartieDansVisite(this.reponseTrouve);\r\n  }\r\n\r\n  insertPartieDansVisite(reponse:number):void{\r\n    let msgVictoire:string = \"\";\r\n    if(this.reponseTrouve === 1) msgVictoire = \"Abandon\";\r\n    else msgVictoire = \"Répondu\";\r\n\r\n    if(this.idVisite === \"\"){\r\n      let randomNombre:string = Math.random().toString(36).substring(7);\r\n      let randomLettre:string = Math.floor(Math.random() * 10000).toString();\r\n      this.idVisite = randomLettre + randomNombre;\r\n      console.log(\"random\", this.idVisite);\r\n      this.visiteService.postVisite(this.idVisite,this.leDefis.id,this.email,\"2020-05-06\",\"distanciel\",this.point.toString(),\"0\",msgVictoire).subscribe(\r\n        (response) => {\r\n          console.log(\"la création à fonctionnée avec la valeur : \" + response);\r\n        },\r\n        (error) => {\r\n          console.error(\"Erreur sur le put : \" + error);\r\n        }\r\n      );\r\n    }\r\n    else {\r\n      this.visiteService.updateVisite(this.idVisite,this.leDefis.id,this.email,\"2020-05-06\",\"distanciel\",this.point.toString(),\"0\",msgVictoire).subscribe(\r\n        (response) => {\r\n          console.log(\"la création à fonctionnée avec la valeur : \" + response);\r\n        },\r\n        (error) => {\r\n          console.error(\"Erreur sur le put : \" + error);\r\n        }\r\n      );\r\n    }\r\n  }\r\n\r\n  fermerVisite(){\r\n    this.isVisiteCommence = false;\r\n    this.isDefisSelectionne = false;\r\n    this.isAfficheListeDefis = false;\r\n  }\r\n}","<html>\r\n  <router-outlet></router-outlet>\r\n  <mat-toolbar>\r\n    <button mat-icon-button class=\"example-icon\" aria-label=\"Menu\">\r\n      <mat-icon (click)=\"drawer.toggle()\">menu</mat-icon>\r\n    </button>\r\n    <label>\r\n      Projet intégrateur\r\n    </label>\r\n    <label class=\"spacer\"></label>\r\n  \r\n    <mat-icon *ngIf=\"(auth.user | async) === null\" [matMenuTriggerFor]=\"menuConnect\">\r\n      account_circle\r\n    </mat-icon>\r\n    <mat-icon *ngIf=\"auth.user | async as user\" [matMenuTriggerFor]=\"menuDisconnect\">\r\n      <img [src]=\"user.photoURL\">\r\n    </mat-icon>\r\n  \r\n    <mat-menu #menuConnect=\"matMenu\">\r\n      <button mat-menu-item (click)=\"login()\">\r\n        &nbsp;\r\n        <span>Compte Google</span>\r\n      </button>\r\n    </mat-menu>\r\n    <mat-menu #menuDisconnect=\"matMenu\">\r\n      <button mat-menu-item (click)=\"logout()\">\r\n        <span >Déconnexion</span>\r\n      </button>\r\n    </mat-menu>\r\n  </mat-toolbar>\r\n  \r\n  <mat-drawer-container class=\"example-container\">\r\n    <mat-drawer #drawer>\r\n      <mat-sidenav-container>\r\n        <mat-sidenav>defis</mat-sidenav>\r\n        <mat-sidenav-content (click)=\"afficheListeDefis()\">Afficher la liste des defis</mat-sidenav-content>\r\n      </mat-sidenav-container>\r\n      <mat-sidenav-container>\r\n        <mat-sidenav>chamis</mat-sidenav>\r\n        <mat-sidenav-content (click)=\"afficheListeChamis()\">Afficher la liste des chamis</mat-sidenav-content>\r\n      </mat-sidenav-container>\r\n      <mat-sidenav-container>\r\n        <mat-sidenav>EditeArrets</mat-sidenav>\r\n        <mat-sidenav-content (click)=\"afficheLesVisites()\">Afficher la liste des visites</mat-sidenav-content>\r\n      </mat-sidenav-container>\r\n      <mat-sidenav-container>\r\n        <mat-sidenav>inscriptionChamis</mat-sidenav>\r\n        <mat-sidenav-content (click)=\"afficheInscriptionChamis()\">Vous inscrire chez les chamis !</mat-sidenav-content>\r\n      </mat-sidenav-container>\r\n      <mat-sidenav-container>\r\n        <mat-sidenav>EditDefis</mat-sidenav>\r\n        <mat-sidenav-content (click)=\"AfficheEditDefis()\">Edit les défis</mat-sidenav-content>\r\n      </mat-sidenav-container>\r\n      <mat-sidenav-container>\r\n        <mat-sidenav>EditeChamis</mat-sidenav>\r\n        <mat-sidenav-content (click)=\"AfficheEditChamis()\">Edit les chamis</mat-sidenav-content>\r\n      </mat-sidenav-container>\r\n      <mat-sidenav-container>\r\n        <mat-sidenav>EditeArrets</mat-sidenav>\r\n        <mat-sidenav-content (click)=\"AfficheEditArrets()\">Edit les arrets</mat-sidenav-content>\r\n      </mat-sidenav-container>\r\n      <mat-sidenav-container>\r\n        <mat-sidenav>EditeVisites</mat-sidenav>\r\n        <mat-sidenav-content (click)=\"AfficheEditVisite()\">Edit les visites</mat-sidenav-content>\r\n      </mat-sidenav-container>\r\n    </mat-drawer>\r\n    <mat-drawer-content>\r\n\r\n      <!-- Debut assistant -->\r\n      <div class=\"formReponseDefis\">\r\n        <div>\r\n          <h1>Pour commencer une visite cliquer sur le bouton si dessous</h1>\r\n          <button mat-raised-button color=\"primary\" (click)=\"CommencerVisite()\">Commencer une visite</button>\r\n        </div>\r\n\r\n        <div *ngIf=\"isVisiteCommence\">\r\n          <h2>Veuillez choisir un defis, pour cela cliquez sur un defis dans le tableau ou choisissez en un sur la carte</h2>\r\n        </div>\r\n\r\n        <div *ngIf=\"isDefisSelectionne\">\r\n          <button mat-raised-button color=\"primary\" (click)=\"fermerVisite()\">Terminer ma visite</button>\r\n        </div>\r\n      </div>\r\n      <!-- Fin assistant -->\r\n\r\n      <div class=\"overlay\" *ngIf=\"popupEditDefis\">\r\n        <div class=\"popup\">\r\n            <h2>Vous etes en mode édition de défis !</h2>\r\n            <a class=\"close\" (click)=\"popupEditDefis = false\">&times;</a>\r\n            <div class=\"content\">\r\n            Veuillez fermer l'éditeur de défis avant d'ouvrir autre chose !\r\n            <button mat-raised-button color=\"primary\" (click)=\"AfficheEditDefis()\">Fermer l'editeur defis</button>\r\n            </div>\r\n        </div>\r\n      </div>\r\n\r\n      <div class=\"overlay\" *ngIf=\"popupEditChamis\">\r\n        <div class=\"popup\">\r\n            <h2>Vous etes en mode édition de chamis !</h2>\r\n            <a class=\"close\" (click)=\"popupEditChamis = false\">&times;</a>\r\n            <div class=\"content\">\r\n            Veuillez fermer l'éditeur de chamis avant d'ouvrir autre chose !\r\n            <button mat-raised-button color=\"primary\" (click)=\"AfficheEditChamis()\">Fermer l'editeur Chamis</button>\r\n            </div>\r\n        </div>\r\n      </div>\r\n\r\n      <div class=\"overlay\" *ngIf=\"popupEditArrets\">\r\n        <div class=\"popup\">\r\n            <h2>Vous etes en mode édition de arrets !</h2>\r\n            <a class=\"close\" (click)=\"popupEditArrets = false\">&times;</a>\r\n            <div class=\"content\">\r\n            Veuillez fermer l'éditeur de arrets avant d'ouvrir autre chose !\r\n            <button mat-raised-button color=\"primary\" (click)=\"AfficheEditArrets()\">Fermer l'editeur arrets</button>\r\n            </div>\r\n        </div>\r\n      </div>\r\n\r\n      <div class=\"overlay\" *ngIf=\"popupEditVisite\">\r\n        <div class=\"popup\">\r\n            <h2>Vous etes en mode édition de visites !</h2>\r\n            <a class=\"close\" (click)=\"popupEditVisite = false\">&times;</a>\r\n            <div class=\"content\">\r\n              Veuillez fermer l'éditeur de visites avant d'ouvrir autre chose !\r\n            <button mat-raised-button color=\"primary\" (click)=\"AfficheEditVisite()\">Fermer l'editeur visites</button>\r\n            </div>\r\n        </div>\r\n      </div>\r\n  \r\n      <!-- formulaire pour ajouter un chamis ! -->\r\n      <div *ngIf=\"isSincrireChamis\">\r\n        <hr/>\r\n        <form class=\"formulaire-Chamis-Container\" *ngIf=\"auth.user | async as user\">\r\n          <h2>Pas encore inscrit ?</h2>\r\n          <br/>\r\n          <mat-form-field appearance=\"fill\">\r\n            <mat-label>nom</mat-label>\r\n            <input matInput type=\"string\" #nom>\r\n          </mat-form-field>\r\n          <br/>\r\n          <mat-form-field appearance=\"fill\">\r\n            <mat-label>prénom</mat-label>\r\n            <input matInput type=\"string\" #prenom> \r\n          </mat-form-field>\r\n          <br>\r\n          <button mat-raised-button color=\"primary\" (click)=\"creerNouveauChamis(user.email,nom.value,prenom.value)\">M'inscrire chez les chamis !</button>\r\n        </form>\r\n        <hr/>\r\n      </div>\r\n      <!-- Fin formulaire ajouter un chamis ! -->\r\n  \r\n      <!-- Bouton qui creer un chamis -->\r\n      <div *ngIf=\"auth.user | async as user\" class=\"hide\">\r\n        <button (click)=\"creerNouveauChamis(user.email,'test','test')\">Ajoutez moi aux chamis !</button>\r\n        <b *ngFor=\"let post of post$ | async\"> </b>\r\n      </div>\r\n      \r\n      <h2 *ngIf=isAfficheEditChamis>Cliquer sur un Chamis pour le modifier</h2>\r\n      <!-- fetch des chamis ! -->\r\n      <div *ngIf=\"isAfficheListeChamis\">\r\n        <br/>\r\n        <hr />\r\n        <h3> Les chamis : </h3>\r\n        <table border=\"1px solid black\">\r\n          <tr>\r\n            <th>Login</th>\r\n            <th>nom</th>\r\n            <th>prénom</th>\r\n          </tr>\r\n          <tr *ngFor=\"let chamis of tousLeschamis$ | async\"\r\n            (click)=\"afficheLeChamis(chamis)\">\r\n            <td>{{chamis.login}}</td>\r\n            <td>{{chamis.nom}}</td>\r\n            <td>{{chamis.prenom}}</td>\r\n          </tr>\r\n        </table>\r\n        <br/>\r\n        <hr/>\r\n      </div>\r\n      <!-- Fin du fetch des chamis ! -->\r\n\r\n      <h2 *ngIf=isAfficheEditDefis>Cliquer sur un défis pour le modifier</h2>\r\n      <!-- fetch des defis ! -->\r\n      <div *ngIf=\"isAfficheListeDefis\">\r\n        <h3> Les defis : </h3>\r\n\r\n        <label for=\"choix_defis\" >Choix DEFIS</label>\r\n        <input  #lab list=\"defis\" type=\"text\" id=\"choix_defis\" (click)=\"afficheLedefis($event)\">\r\n        <datalist id=\"defis\" >\r\n            <option  id=\"defis\" *ngFor=\"let defis of defis$ | async\" \r\n            (ngModel)=\"defis\" [value]=\"defis.id\" > {{defis.titre}}</option>\r\n        </datalist>\r\n        <table  border=\"1px solid black\">\r\n          <tr>\r\n            <th> ID </th>\r\n            <th> Titre </th>\r\n            <th> Date de Creation </th>\r\n            <th> Auteur </th>\r\n            <th> Latitude </th>\r\n            <th> Longitude </th>\r\n          </tr>\r\n          <tr *ngFor=\"let defis of defis$ | async\"\r\n          (click)=\"afficheLedefis(defis)\">\r\n            <td> {{defis.id }} </td>\r\n            <td> {{defis.titre}} </td>\r\n            <td> {{defis.dateDeCreation}} </td>\r\n            <td> {{defis.loginAuteur}} </td>\r\n            <td> {{defis.latitude}} </td>\r\n            <td> {{defis.longitude}} </td>\r\n          </tr>\r\n        </table>\r\n        <hr />\r\n      </div>\r\n      <!-- Fin du fetch des defis ! -->\r\n      \r\n      <!-- fetch des visite ! -->\r\n      <div  *ngIf=\"isAfficheListeVisite\">  \r\n        <h3> Visites : </h3>\r\n      <table  border=\"1px solid black\">\r\n          <tr>\r\n            <th> IDVisite </th>\r\n            <th> IdDefis</th>\r\n            <th> Nom Visiteur</th>\r\n            <th> Date de Visite </th>\r\n            <th> Mode </th>\r\n            <th> Score </th>\r\n            <th> Temps </th>\r\n            <th> Status </th>\r\n          </tr>\r\n          <tr *ngFor=\"let visite of visite$ | async\" (click)=\"afficheLaVisite(visite)\">\r\n            <td> {{visite.idVisite }} </td>\r\n            <td> {{visite.idDefis}} </td>\r\n            <td> {{visite.nomVisiteur}} </td>\r\n            <td> {{visite.dateVisite}} </td>\r\n            <td> {{visite.mode}} </td>\r\n            <td> {{visite.score}} </td>\r\n            <td> {{visite.temps}} </td>\r\n            <td> {{visite.status}} </td>\r\n          </tr>\r\n        </table>\r\n        <hr />\r\n      </div>\r\n      <!-- Fin du fetch des visite ! -->\r\n\r\n       <!-- Affiche l'éditeur de Chamis -->\r\n       <div *ngIf=\"isAfficheEditChamis\">\r\n        <h1>Le Chamis</h1>\r\n          <form class=\"formulaire-Chamis-Container\">\r\n            <mat-form-field appearance=\"fill\">\r\n              <mat-label>Login</mat-label>\r\n              <input matInput type=\"string\" [value]=leChamis.login #login> \r\n            </mat-form-field>\r\n            <br/>\r\n            <mat-form-field appearance=\"fill\">\r\n              <mat-label>Nom</mat-label>\r\n              <input matInput type=\"string\" [value]=leChamis.nom #nom> \r\n            </mat-form-field>\r\n            <br>\r\n            <mat-form-field appearance=\"fill\">\r\n              <mat-label>Prenom</mat-label>\r\n              <input matInput type=\"string\" [value]=leChamis.prenom #prenom> \r\n            </mat-form-field>\r\n            <br/>\r\n            <br/>\r\n            <button class=\"boutonFormulaire\" mat-raised-button color=\"primary\" (click)=\"modifieChamis(login.value,nom.value,prenom.value)\">Modifier mon chamis</button>\r\n            <button mat-raised-button color=\"primary\" (click)=\"creerNouveauChamis(login.value,nom.value,prenom.value)\">Créer un nouveau chamis</button>\r\n          </form>\r\n        </div>\r\n      <!-- Fin de l'éditeur de chamis -->\r\n\r\n      <!-- Affiche l'éditeur de défis -->\r\n      <div *ngIf=\"isAfficheEditDefis\">\r\n        <h1>Le defis</h1>\r\n        <form class=\"formulaire-Chamis-Container\">\r\n              <mat-form-field>\r\n                <mat-label>Liste De Defis</mat-label>\r\n                <mat-select #mode>\r\n                  <mat-option *ngFor=\"let defis of defis$ | async\"  value={{defis}} \r\n                  (click)=\"afficheLedefis(defis)\" value={{defis}}\r\n                  #lab> {{defis.id}}\r\n                </mat-option>\r\n                </mat-select>\r\n              </mat-form-field>\r\n          <br/>\r\n          <mat-form-field appearance=\"fill\">\r\n            <mat-label>id</mat-label>\r\n            <input matInput type=\"string\" [value]=leDefis.id #id> \r\n          </mat-form-field>\r\n          <br/>\r\n          <mat-form-field appearance=\"fill\">\r\n            <mat-label>Titre</mat-label>\r\n            <input matInput type=\"string\" [value]=leDefis.titre #titre> \r\n          </mat-form-field>\r\n          <br>\r\n          <mat-form-field appearance=\"fill\">\r\n            <mat-label>date de création</mat-label>\r\n            <input matInput type=\"string\" [value]=leDefis.dateDeCreation #dateCreation> \r\n          </mat-form-field>\r\n          <br/>\r\n          <mat-form-field appearance=\"fill\">\r\n            <mat-label>description</mat-label>\r\n            <textarea matInput type=\"string\" [value]=leDefis.description #description autosize> </textarea>\r\n          </mat-form-field>\r\n          <br/>\r\n          <mat-form-field appearance=\"fill\">\r\n            <mat-label>login auteur</mat-label>\r\n            <input matInput type=\"string\" [value]=leDefis.loginAuteur #longinAuteur> \r\n          </mat-form-field>\r\n          <br/>\r\n          <mat-form-field appearance=\"fill\">\r\n            <mat-label>latitude</mat-label>\r\n            <input matInput type=\"string\" [value]=leDefis.latitude #latitude> \r\n          </mat-form-field>\r\n          <br/>\r\n          <mat-form-field appearance=\"fill\">\r\n            <mat-label>longitude</mat-label>\r\n            <input matInput type=\"string\" [value]=leDefis.longitude #longitude> \r\n          </mat-form-field>\r\n          <br/>\r\n          <br/>\r\n          <mat-form-field appearance=\"fill\">\r\n            <mat-label>Etape</mat-label>\r\n            <textarea matInput type=\"string\" [value]=leDefis.etapes #etape autosize> </textarea> \r\n          </mat-form-field>\r\n          <br/>\r\n          <br/>\r\n          <mat-form-field appearance=\"fill\">\r\n            <mat-label>indice</mat-label>\r\n            <textarea matInput type=\"string\" [value]=leDefis.indice #indice autosize> </textarea>\r\n          </mat-form-field>\r\n          <br/>\r\n          <br/>\r\n          <mat-form-field appearance=\"fill\">\r\n            <mat-label>question</mat-label>\r\n            <textarea matInput type=\"string\" [value]=leDefis.question #question autosize> </textarea>\r\n          </mat-form-field>\r\n          <br/>\r\n          <br/>\r\n          <mat-form-field appearance=\"fill\">\r\n            <mat-label>reponse</mat-label>\r\n            <textarea matInput type=\"string\" [value]=leDefis.reponse #reponse autosize> </textarea>\r\n          </mat-form-field>\r\n          <br/>\r\n          <button class=\"boutonFormulaire\" mat-raised-button color=\"primary\" (click)=\"modifieDefis(id.value,titre.value,dateCreation.value,description.value,longinAuteur.value,latitude.value,longitude.value,\r\n          etape.value,indice.value,question.value,reponse.value)\">Modifier mon défis</button>\r\n          <button mat-raised-button color=\"primary\" (click)=\"creerNouveauDefis(id.value,titre.value,dateCreation.value,description.value,longinAuteur.value,latitude.value,longitude.value,etape.value,indice.value,question.value,reponse.value)\">Créer un nouveau défis</button>\r\n        </form>\r\n      </div>\r\n      <!-- Fin de l'éditeur de défis -->\r\n\r\n      <!-- Affiche l'éditeur de Visite -->\r\n      <div *ngIf=\"isAfficheEditVisite\">\r\n        <h1>La visite</h1>\r\n        <div class=\"formulaire-Chamis-Container\">\r\n              <mat-form-field>\r\n                <mat-label>Liste des visites</mat-label>\r\n                <mat-select #mode>\r\n                  <mat-option *ngFor=\"let visite of visite$ | async\"  value={{visite}} \r\n                  (click)=\"afficheLaVisite(visite)\" value={{visite}}\r\n                  #lab> {{visite.idVisite}}\r\n                </mat-option>\r\n                </mat-select>\r\n              </mat-form-field>\r\n          <br/>\r\n          <mat-form-field appearance=\"fill\">\r\n            <mat-label>idVisite</mat-label>\r\n            <input matInput type=\"string\" [value]=laVisite.idVisite #idV> \r\n          </mat-form-field>\r\n          <br/>\r\n          <mat-form-field appearance=\"fill\">\r\n            <mat-label>IdDefi</mat-label>\r\n            <input matInput type=\"string\" [value]=laVisite.idDefis #idD> \r\n          </mat-form-field>\r\n          <br>\r\n          <mat-form-field appearance=\"fill\">\r\n            <mat-label>Nom Visiteur</mat-label>\r\n            <input matInput type=\"string\" [value]=laVisite.nomVisiteur #NomV> \r\n          </mat-form-field>\r\n          <br>\r\n          <mat-form-field appearance=\"fill\">\r\n            <mat-label>date de Visite</mat-label>\r\n            <input matInput type=\"string\" [value]=laVisite.dateVisite #dateVisite> \r\n          </mat-form-field>\r\n          <br/>\r\n          <mat-form-field appearance=\"fill\">\r\n            <mat-label>Mode</mat-label>\r\n            <input matInput type=\"string\" [value]=laVisite.mode #mode>\r\n          </mat-form-field>\r\n          <br/>\r\n          <mat-form-field appearance=\"fill\">\r\n            <mat-label>Score</mat-label>\r\n            <input matInput type=\"string\" [value]=laVisite.score #score> \r\n          </mat-form-field>\r\n          <br/>\r\n          <mat-form-field appearance=\"fill\">\r\n            <mat-label>Temps</mat-label>\r\n            <input matInput type=\"string\" [value]=laVisite.temps #temps> \r\n          </mat-form-field>\r\n          <br/>\r\n          <mat-form-field appearance=\"fill\">\r\n            <mat-label>Status</mat-label>\r\n            <input matInput type=\"string\" [value]=laVisite.status #status> \r\n          </mat-form-field>\r\n          <br/>\r\n          \r\n          <button class=\"boutonFormulaire\" mat-raised-button color=\"primary\" (click)=\"updateVisite(idV.value,idD.value,NomV.value,dateVisite.value,mode.value,score.value,temps.value,status.value)\"> Sauvgarder la Visite</button>\r\n          <button mat-raised-button color=\"primary\" (click)=\"createVisite(idV.value,idD.value,NomV.value,dateVisite.value,mode.value,score.value,temps.value,status.value)\">Créer un nouveau défis</button>\r\n        </div>\r\n      </div>\r\n      <!-- Fin de l'éditeur de Visite -->\r\n\r\n       <!-- Affiche l'éditeur des Arrets -->\r\n       <div *ngIf=\"isAfficheEditArrets\">\r\n        <h1>Arret</h1>\r\n        <label for=\"choix_arrets\" >Choix ARRET</label>\r\n        <input list=\"arret\" type=\"text\" id=\"choix_arrets\"  (change)=\"afficheTagArret($event)\" \r\n        >\r\n        <datalist id=\"arret\" #lab>\r\n            <option *ngFor=\"let arrettag of arretTag$ | async \"\r\n           (ngValue)=\"arrettag\"\r\n          > {{arrettag.properties.LIBELLE}}</option>\r\n        </datalist>\r\n        \r\n        <form class=\"formulaire-Chamis-Container\">\r\n          <mat-form-field>\r\n            <mat-label>Liste D'arret</mat-label>\r\n            <mat-select #mode>\r\n              <mat-option *ngFor=\"let arret of arret$ | async\"  value={{arret}} \r\n              (click)=\"afficheArret(arret)\" value={{arret}}\r\n              #lab> {{arret.nomArret}}\r\n            </mat-option>\r\n            </mat-select>\r\n          </mat-form-field>\r\n          <br/>\r\n            <mat-form-field appearance=\"fill\">\r\n              <mat-label>Nom Arret</mat-label>\r\n              <input matInput type=\"string\" [value]=Arret.nomArret  #nomA> \r\n            </mat-form-field>\r\n            <br/>\r\n            <mat-form-field appearance=\"fill\">\r\n              <mat-label>Code</mat-label>\r\n              <input matInput type=\"string\" [value]=Arret.code #code> \r\n            </mat-form-field>\r\n            <br>\r\n            <mat-form-field appearance=\"fill\">\r\n              <mat-label>Latitude</mat-label> \r\n              <input matInput type=\"string\" [value]=Arret.latitude #latitude>\r\n            </mat-form-field>\r\n            <br/>\r\n            <mat-form-field appearance=\"fill\">\r\n              <mat-label>Longitude</mat-label>\r\n              <input matInput type=\"string\" [value]=Arret.longitude #longitude> \r\n            </mat-form-field>\r\n            <br>\r\n\r\n            <mat-form-field appearance=\"fill\">\r\n              <mat-label>StreetView</mat-label>\r\n              <input matInput type=\"string\" [value]=Arret.streetView #streetView> \r\n            </mat-form-field>\r\n            <br>\r\n            <form [action]=streetView.value target=\"_blank\">\r\n              <button type=\"submit\" >StreetVIEW</button>\r\n            </form>\r\n            <form [action]=\"getGoogleMapView(latitude.value,longitude.value)\" target=\"_blank\">\r\n                <button type=\"submit\" >GoogleMapVieW</button>\r\n            </form>\r\n            <mat-form-field appearance=\"fill\">\r\n              <mat-label>Nom Ville</mat-label>\r\n              <input matInput type=\"string\" [value]=Arret.nomVille #nomV> \r\n            </mat-form-field>\r\n            <br/>\r\n            <br/>\r\n            <button class=\"boutonFormulaire\" mat-raised-button color=\"primary\" (click)=\"modifieArret(nomA.value,code.value,latitude.value,longitude.value,nomV.value,streetView.value)\">Modifier Arret</button>\r\n            <button mat-raised-button color=\"primary\" (click)=\"creerNouveauArret(nomA.value,code.value,latitude.value,longitude.value,nomV.value,streetView.value)\">Ajoute Arret</button>\r\n          </form>\r\n        </div>\r\n      <!-- Fin de l'éditeur de L'arret -->  \r\n  \r\n      <!-- Affiche le défis selectionnes sur la carte -->\r\n      <div *ngIf=\"isDefisSelectionne\">\r\n          <h2>Votre défis : \r\n          {{ leDefis.etapes}} </h2>\r\n      </div>\r\n\r\n      <!-- question reponse du defis -->\r\n      <div *ngIf=\"isVisiteCommence\">\r\n        <div *ngIf=\"isDefisSelectionne\" class=\"formReponseDefis\">\r\n          <div class=\"point\" *ngIf=\"!isIndice\">\r\n            <h1>Cette question rapporte {{ point }} points !</h1>\r\n          </div>\r\n\r\n          <div class=\"point\" *ngIf=\"isIndice\">\r\n            <h1>Vous avez pris un indice cela ne vous rapporte  plus que {{ point }} points !</h1>\r\n          </div>\r\n\r\n          <div class =\"question\">\r\n            <h3> La question est la suivante : </h3>\r\n            <h2>{{ leDefis.question }}</h2>\r\n          </div>\r\n\r\n          <div class=\"indice\">\r\n            <h3> Besoin d'un indice ?</h3>\r\n            <button mat-raised-button color=\"primary\" autocomplete=\"off\" (click)=\"afficheIndice()\">Obtenir un indice</button>\r\n            <div *ngIf=\"isIndice\"> \r\n              <h2>{{ leDefis.indice }} </h2>\r\n            </div>\r\n          </div>\r\n          <br/>\r\n          <div class=\"reponse\">\r\n            <h3> Entrer votre réponse :</h3>\r\n            <mat-form-field appearance=\"fill\">\r\n              <mat-label>réponse</mat-label>\r\n              <input matInput type=\"string\" #reponse> \r\n            </mat-form-field>\r\n            <div *ngIf=\"auth.user | async as user\">\r\n              <button mat-raised-button color=\"primary\" autocomplete=\"off\" (click)=\"valideReponseConnecte(reponse.value,user.email)\">valider ma reponse</button>\r\n            </div>\r\n            <div *ngIf=\"(auth.user | async) === null\">\r\n              <button mat-raised-button color=\"primary\" autocomplete=\"off\" (click)=\"valideReponseVisiteur(reponse.value)\">valider ma reponse</button>\r\n            </div>\r\n            \r\n            <h2 *ngIf=\"reponseTrouve===1\"> Mauvaise réponse !</h2>\r\n            <h2 *ngIf=\"reponseTrouve===2\"> Bonne réponse !</h2>\r\n          </div>\r\n        </div>\r\n      </div>\r\n      \r\n      <!-- Code relatif à la carte -->\r\n      <h1 class=\"carteTitre\"> Voici la carte des défis :</h1>\r\n\r\n      <yaga-map [lng]=\"5.724524\" [lat]=\"45.188529\" [zoom]=\"12\">\r\n        <yaga-tile-layer [(url)]=\"tileLayerUrl\"></yaga-tile-layer>\r\n        <yaga-polyline *ngFor=\"let ligne of lignes$| async\"\r\n        [geoJSON]=\"ligne\"\r\n        [weight]=3\r\n        [color]= \"rgbToString(ligne)\"\r\n        ></yaga-polyline>\r\n        <yaga-marker *ngFor=\"let defis of defis$ | async \"\r\n                      [lng] = defis.longitude\r\n                      [lat] = defis.latitude\r\n                      [display] = \"true\"\r\n                      [opacity] = \"1\"\r\n                      (click)=\"afficheLedefis(defis)\"\r\n                      [title]= defis.titre>\r\n          <yaga-icon [iconUrl]=\"iconMarker\" ></yaga-icon>\r\n          <yaga-popup>\r\n            <table>\r\n              <tr>\r\n                <td> Description </td>\r\n              </tr>\r\n            <tr>\r\n              <td> {{defis.description}} </td>\r\n            </tr>\r\n          </table>\r\n           </yaga-popup>\r\n        </yaga-marker>\r\n        <yaga-zoom-control> ZOOM </yaga-zoom-control>  \r\n      </yaga-map>\r\n     </mat-drawer-content>\r\n  </mat-drawer-container>  \r\n</html>","import { Observable } from \"rxjs\";\r\nimport { HttpClient } from \"@angular/common/http\";\r\nimport { Injectable } from \"@angular/core\";\r\n\r\nexport interface Chamis {\r\n  login: string;\r\n  nom: string;\r\n  prenom: string;\r\n}\r\n\r\n@Injectable()\r\nexport class ChamisService {\r\n  private path = \"https://projet-integrateur.herokuapp.com/api/users/\";\r\n  //private _url: string = \"http://localhost:5000/api/users/\"\r\n  \r\n  constructor(private http: HttpClient) {}\r\n\r\n  initializeNouveauChamis(): Chamis {\r\n    let leChamis: Chamis = {\r\n      login: \"\",\r\n      nom: \"\",\r\n      prenom: \"\",\r\n    };\r\n    return leChamis;\r\n  }\r\n\r\n  RecupereTousLesChamis(): Observable<Chamis> {\r\n    return this.http.get<Chamis>(this.path);\r\n  }\r\n\r\n  RecuperUnChamis(login: string): Observable<Chamis> {\r\n    return this.http.get<Chamis>(login);\r\n  }\r\n\r\n  postChamis(loginGoogle: string,nomChoisi: string,prenomChoisi: string): Observable<Chamis> {\r\n    const newChamisLogin = {\r\n      login: loginGoogle,\r\n      nom: nomChoisi,\r\n      prenom: prenomChoisi,\r\n    };\r\n    return this.http.post<Chamis>(\r\n      this.path + loginGoogle,\r\n      newChamisLogin\r\n    );\r\n  }\r\n\r\n  updateChamis(nLogin: string,nNom: string,nPrenom: string): Observable<Chamis> {\r\n    let newChamis: Chamis = {\r\n      login: nLogin,\r\n      nom: nNom,\r\n      prenom: nPrenom,\r\n    };\r\n    return this.http.put<Chamis>(this.path + newChamis.login,newChamis);\r\n\r\n  }\r\n}\r\n","import { BrowserModule } from '@angular/platform-browser';\r\nimport { NgModule } from '@angular/core';\r\nimport { HttpClientModule } from '@angular/common/http';\r\nimport { AppRoutingModule } from './app-routing.module';\r\nimport { BrowserAnimationsModule } from '@angular/platform-browser/animations';\r\nimport {MatToolbarModule} from '@angular/material/toolbar';\r\nimport {MatIconModule} from '@angular/material/icon';\r\nimport {MatButtonModule} from '@angular/material/button';\r\nimport {MatSidenavModule} from '@angular/material/sidenav';\r\nimport {MatInputModule} from '@angular/material/input';\r\nimport {MatSelectModule} from '@angular/material/select';\r\nimport {MatMenuModule} from '@angular/material/menu';\r\nimport { YagaModule } from '@yaga/leaflet-ng2';\r\nimport { firebase } from 'src/environments/environment';\r\nimport { AngularFireModule } from '@angular/fire';\r\nimport { AngularFireAuthModule } from '@angular/fire/auth';\r\nimport { ChamisService } from './chamis/chamis.service';\r\nimport { DefisService } from './defis/defis.service';\r\nimport { LignesService } from './lignes/lignes.service';\r\nimport { AppComponent } from './app.component';\r\nimport { NgbModule } from '@ng-bootstrap/ng-bootstrap';\r\nimport { ArretService } from './arret/arret.service';\r\nimport { VisitesService } from './visite/visite.service';\r\nimport { TextareaAutosizeModule } from 'ngx-textarea-autosize';\r\n\r\n@NgModule({\r\n  declarations: [\r\n    AppComponent\r\n  ],\r\n  imports: [\r\n    BrowserModule,\r\n    AppRoutingModule,\r\n    BrowserAnimationsModule,\r\n    MatToolbarModule,\r\n    MatIconModule,\r\n    MatButtonModule,\r\n    MatSidenavModule,\r\n    MatInputModule,\r\n    MatSelectModule,\r\n    MatMenuModule,\r\n    YagaModule,\r\n    AngularFireAuthModule,\r\n    AngularFireModule.initializeApp(firebase),\r\n    HttpClientModule,\r\n    NgbModule,\r\n    TextareaAutosizeModule,\r\n  ],\r\n  providers: [ ChamisService,DefisService, LignesService, ArretService,VisitesService],\r\n  bootstrap: [AppComponent]\r\n})\r\nexport class AppModule { }","import { HttpClient } from '@angular/common/http';\r\nimport { Observable } from 'rxjs';\r\nimport { Injectable } from '@angular/core';\r\n\r\nexport interface defis {\r\n    id:string;\r\n    titre:string;\r\n    dateDeCreation:Date;\r\n    description:string;\r\n    loginAuteur:string;\r\n    latitude:string;\r\n    longitude:string;\r\n    etapes : string;\r\n    indice : string;\r\n    question: string;\r\n    reponse : string;\r\n}\r\n\r\n@Injectable()\r\nexport class DefisService{\r\n    private _url: string = \"https://projet-integrateur.herokuapp.com/api/defis/\"\r\n    //private _url: string = \"http://localhost:5000/api/defis/\"\r\n\r\n    constructor(private http:HttpClient) { \r\n    }\r\n\r\n    fetchDefis():Observable<defis>{\r\n        return this.http.get<defis>(this._url);\r\n    }\r\n\r\n    public recuperUnDefis(id:string):Observable<defis>{\r\n        return this.http.get<defis>(this._url+id);\r\n    }\r\n\r\n    initializeNouveauDefis():defis{\r\n        let leDefis:defis = {\r\n            id: \"\",\r\n            titre: \"\",\r\n            dateDeCreation: new Date('01-01-0000'),\r\n            description: \"\",\r\n            loginAuteur: \"\",\r\n            latitude: \"\",\r\n            longitude: \"\",\r\n            etapes : \"\",\r\n            indice : \"\",\r\n            question : \"\",\r\n            reponse : \"\"\r\n        }\r\n        return leDefis;\r\n    }\r\n\r\n    updateDefis(nId: string, nTitre: string, nDate: any, nDescription: string, nLoginAuteur: string, nLatitude: string, nLongitude: string, nEtapes:string, nIndice : string, nQuestion : string, nReponse : string):Observable<defis> {\r\n        let newDefis:defis = {\r\n            id:nId,\r\n            titre:nTitre,\r\n            dateDeCreation:nDate,\r\n            description:nDescription,\r\n            loginAuteur:nLoginAuteur,\r\n            latitude:nLatitude,\r\n            longitude:nLongitude,\r\n            etapes : nEtapes,\r\n            indice : nIndice,\r\n            question : nQuestion,\r\n            reponse : nReponse \r\n        };\r\n    return this.http.put<defis>(this._url+newDefis.id,newDefis);\r\n    }\r\n\r\n    postDefis(nId: string, nTitre: string, nDate: any, nDescription:string, nLoginAuteur:string, nLatitude:string, nLongitude:string, nEtapes:string, nIndice : string, nQuestion : string, nReponse : string): Observable<defis> {\r\n        const newDefis:defis = {\r\n            id:nId,\r\n            titre:nTitre,\r\n            dateDeCreation:nDate,\r\n            description:nDescription,\r\n            loginAuteur:nLoginAuteur,\r\n            latitude:nLatitude,\r\n            longitude:nLongitude,\r\n            etapes : nEtapes,\r\n            indice : nIndice,\r\n            question : nQuestion,\r\n            reponse : nReponse \r\n        };\r\n        return this.http.post<defis>(\r\n          this._url + nId,\r\n          newDefis\r\n        );\r\n    }\r\n}","import { HttpClient } from '@angular/common/http';\r\nimport { Injectable } from '@angular/core';\r\nimport { Observable } from 'rxjs';\r\n\r\nexport interface visites {\r\n  idVisite : string;\r\n  idDefis : string;\r\n  nomVisiteur : string;\r\n  dateVisite : String;\r\n  mode : string;\r\n  score : string;\r\n  temps : string; \r\n  status : string;\r\n}\r\n\r\n@Injectable()\r\nexport class VisitesService {\r\n  private _url: string = \"https://projet-integrateur.herokuapp.com/api/visites/\";\r\n  //private _url: string = \"http://localhost:5000/api/visites/\"\r\n \r\n  constructor(private http:HttpClient) { \r\n  }\r\n\r\n  fetchVisites():Observable<visites>{\r\n    return this.http.get<visites>(this._url);\r\n  }\r\n\r\n  recuperUneVisite(nomVisiteur:string):Observable<visites>{\r\n    return this.http.get<visites>(this._url+nomVisiteur);\r\n  }\r\n\r\n  initializeNouvelleVisite():visites{\r\n    let laVisite : visites = {\r\n        idVisite: \"\",\r\n        idDefis: \"\",\r\n        nomVisiteur: \"\",\r\n        dateVisite: '01-01-0000',\r\n        mode: \"\",\r\n        score: \"\",\r\n        temps: \"\",\r\n        status: \"\"\r\n    }\r\n    return laVisite;\r\n  }\r\n\r\n  updateVisite(nIdVisite: string, nIdDefi: string, nNomVisiteur: any, nDateVisite: String, nMode: string, nScore: string, nTemps: string, nStatus: string):Observable<visites> {\r\n    let newVisites:visites = {\r\n      idVisite: nIdVisite,\r\n      idDefis: nIdDefi,\r\n      nomVisiteur: nNomVisiteur,\r\n      dateVisite: nDateVisite,\r\n      mode: nMode,\r\n      score: nScore,\r\n      temps: nTemps,\r\n      status: nStatus\r\n    };\r\n    console.log(\"id de visite /\" + newVisites.idVisite + \"/ id du defi /\" + newVisites.idDefis + \"/ nom du visiteur /\" + newVisites.nomVisiteur + \"/ date de la visite /\" + newVisites.dateVisite + \"/ mode de la visite /\" + newVisites.mode + \"/ score /\" + newVisites.score + \"/ temps de visite /\" + newVisites.temps + \"/ status de la visite /\" + newVisites.status);\r\n    return this.http.put<visites>(this._url + newVisites.idVisite,newVisites);\r\n  }\r\n\r\n  RecuperUneVisite(login: string): Observable<visites> {\r\n    return this.http.get<visites>(login);\r\n  }\r\n\r\n  postVisite(nIdVisite: string, nIdDefi: string, nNomVisiteur: string, nDateVisite: String, nMode: string, nScore: string, nTemps: string, nStatus: string):Observable<visites>  {\r\n    const newVisites:visites = {\r\n      idVisite: nIdVisite,\r\n      idDefis: nIdDefi,\r\n      nomVisiteur: nNomVisiteur,\r\n      dateVisite: nDateVisite,\r\n      mode: nMode,\r\n      score: nScore,\r\n      temps: nTemps,\r\n      status: nStatus\r\n    };\r\n\r\n    return this.http.post<visites>(\r\n      this._url + nIdVisite,\r\n      newVisites\r\n    );\r\n  }\r\n}\r\n","import { HttpClient } from '@angular/common/http';\r\nimport { Observable } from 'rxjs';\r\nimport { Injectable } from '@angular/core';\r\nimport {Feature, FeatureCollection} from 'geojson';\r\nimport { from } from 'rxjs';\r\nimport { map } from 'rxjs/operators';\r\n\r\nexport interface FeatureLigne extends Feature {\r\n  // type: 'Feature';\r\n  geometry: GeometryMultiLineString;\r\n  properties: {\r\n    CODE: string; // \"SEM_C1\"\r\n    COULEUR: string; // \"253,234,0\"\r\n    COULEUR_TEXTE: string; // \"0,0,0\"\r\n    LIBELLE: string; // \"GRENOBLE Cité Jean Macé / MEYLAN Maupertuis\"\r\n    NUMERO: string; // \"C1\"\r\n    PMR: number; // 1\r\n    ZONES_ARRET: string[];\r\n    id: string; // \"SEM_C1\"\r\n    type: string; // \"ligne\" 'arret'\r\n  };\r\n}\r\n\r\nexport interface FeatureArret extends Feature {\r\n  // type: 'Feature';\r\n  geometry: GeometryMultiLineString;\r\n  properties: {\r\n    CODE: string; // \"SEM_C1\"\r\n    LIBELLE: string; // \"GRENOBLE Cité Jean Macé / MEYLAN Maupertuis\"\r\n    type: string; // \"ligne\" 'arret'\r\n    COMMUNE: string; // \"C1\"\r\n    arr_visible : number; // 1\r\n    id: string; // \"SEM_C1\"\r\n    epci: string;\r\n  };\r\n}\r\n\r\n\r\nexport interface FeatureArretCollection extends FeatureCollection {\r\n  // type: 'FeatureCollection';\r\n  features: FeatureLigne[];\r\n}\r\nexport interface FeatureLigneCollection extends FeatureCollection {\r\n  // type: 'FeatureCollection';\r\n  features: FeatureLigne[];\r\n} \r\n\r\nexport interface GeometryMultiLineString {\r\n  type: 'MultiLineString';\r\n  coordinates: GeoPoint[][];\r\n}\r\n\r\nexport type GeoPoint = [lng: number, lat: number];\r\n\r\n@Injectable()\r\nexport class LignesService{\r\n    private _url: string = \"https://data.mobilites-m.fr/api/lines/json?types=ligne&reseaux=SEM\"\r\n    private _urlA: string= \"https://data.mobilites-m.fr/api/findType/json?types=arret&query\"\r\n    constructor(private http:HttpClient) { \r\n    }\r\n\r\n    fetchLignes():Observable<FeatureLigneCollection>{\r\n      return this.http.get<FeatureLigneCollection>(this._url).pipe(map((obs: { features: any; }) => obs.features));\r\n    }\r\n    fetchArret():Observable<FeatureArretCollection>{\r\n      return this.http.get<FeatureArretCollection>(this._urlA).pipe(map((obs: { features: any; }) => obs.features));\r\n  }\r\n}","import { NgModule } from '@angular/core';\r\nimport { Routes, RouterModule } from '@angular/router';\r\n\r\nconst routes: Routes = [];\r\n\r\n@NgModule({\r\n  imports: [RouterModule.forRoot(routes)],\r\n  exports: [RouterModule]\r\n})\r\nexport class AppRoutingModule { }\r\n","import { enableProdMode } from '@angular/core';\r\nimport { platformBrowserDynamic } from '@angular/platform-browser-dynamic';\r\n\r\nimport { AppModule } from './app/app.module';\r\nimport { environment } from './environments/environment';\r\n\r\nif (environment.production) {\r\n  enableProdMode();\r\n}\r\n\r\nplatformBrowserDynamic().bootstrapModule(AppModule)\r\n  .catch(err => console.error(err));\r\n","function webpackEmptyAsyncContext(req) {\n\t// Here Promise.resolve().then() is used instead of new Promise() to prevent\n\t// uncaught exception popping up in devtools\n\treturn Promise.resolve().then(function() {\n\t\tvar e = new Error(\"Cannot find module '\" + req + \"'\");\n\t\te.code = 'MODULE_NOT_FOUND';\n\t\tthrow e;\n\t});\n}\nwebpackEmptyAsyncContext.keys = function() { return []; };\nwebpackEmptyAsyncContext.resolve = webpackEmptyAsyncContext;\nmodule.exports = webpackEmptyAsyncContext;\nwebpackEmptyAsyncContext.id = \"zn8P\";"]}